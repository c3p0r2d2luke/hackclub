<h1>Login</h1>
<form id="loginForm">
Username: <input name="username" required/><br/>
Password: <input name="password" type="password" required/><br/>
<button>Login</button>
</form>
<script src="js/js.cookie.min.js"></script>
<script>
document.getElementById('loginForm').addEventListener('submit', async e=>{
e.preventDefault();
const form = Object.fromEntries(new FormData(e.target).entries());
const res = await fetch('/.netlify/functions/login', {
method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify(form)
});
const data = await res.json();
if(data.userId){ Cookies.set('user', data.userId); alert('Logged in'); window.location='/'; }
else alert('Invalid login');
});
</script>
